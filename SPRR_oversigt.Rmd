---
title: "SPRR_oversigt"
author: "Steffen"
date: "25/11/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyr)
library(ggplot2)
library(visdat)
library(GGally)
library(Hmisc)
library(DMwR2)
library(data.table)
library(mltools)
library(ggfortify)
library(ggiraphExtra)
library(coronavirus)
library(lubridate)
library(plotly)
library(readxl)
require(readr)
library(zoo)
library(latex2exp)
library(fs)
library(fcuk)
```
## Run no. 1
Cl 1
Si 1 
pH 1



```{r no. 1 data}
nr1 = read_delim("data/SPRR/nr_1.csv",delim = "\t", escape_double = FALSE, 
                  trim_ws = TRUE, skip = 5) #Hente data og få det til passe ned i en tabel
dat_1 = as.data.frame(nr1) #Ændrer strukturen af dataen til noget vi kan arbejde med
old_names=colnames(nr1) #Vi finder de latterlige navne kolonnerne i dataen har 
new_names=c("time","level","con0201","pH0201","con0301","flow0301",
            "p0301","p0302","p0401","flow0401","p0501","con0501",
            "temp0501","p0601","temp0601","16","17","18","19","20",
            "21","pmp0201","pmp0301","pmp0401","pmp0501","flow_avg0301",
            "p_avg0301","p_avg0302","p_avg0401","flow_avg0401",
            "p_avg0501","FT0302","weight0302","flow0501","weight0501","36","pH0301",
            "pH0501","con0302","40") #Vi finder på nogle lidt bedre nogle
dat_1 = dat_1 %>% rename_at(vars(old_names),~new_names) #Vi ændrer navnene til de nye
dat_1$time = dmy_hms(dat_1$time)#Vi ændrer formatet af 'dato' kolonnen til et standard format for tid og datoer istedet for at det bare er noget tekst
dat_1 %>% mutate()

```



```{r no. 1 plot, echo=FALSE}
dat_1 %>%
  plot_ly(x=~(time),
          y=~pH0201,
          name="pH",
          type='scatter',
          mode='line',
          line=list(color= '#00CC96'))%>%
  add_lines(x=~(time),
          y=~p0301,
          name='pressure',
          type='scatter',
          mode='line',
          line=list(color='#636EFA'))%>%
add_lines(x=~(time),
          y=~con0501,
          name='Permeate con',
          type='scatter',
          mode='line',
      line=list(color='#EF553B'))%>%
  layout(title="Run no. 1",
         legend=list(x=0.9,y=0.9),
         yaxis=list(title="value ", range=c(NA,NA)),
         xaxis=list(title="Time ",range=c(NA,NA))
         ) #Her plottet TMP

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
